{
  "settings": {
    "title": "日建プロジェクト定例MTG 12/1",
    "theme": "panhouse",
    "companyName": "株式会社パンハウス"
  },
  "slides": [
    {
      "type": "title",
      "title": "日建プロジェクト\n定例MTG",
      "subtitle": "進捗報告・課題共有",
      "date": "2025年12月1日",
      "speakerNotes": "参加者：若林、渡邊航太、岡本、T.yoshida。2月までの開発スケジュールで土日1日稼働ペース。タスクはほぼ終わっているので連携とフィードバック対応がメイン。"
    },
    {
      "type": "process",
      "title": "プロジェクトスケジュール",
      "subhead": "フェーズ1納品に向けて",
      "steps": [
        {
          "title": "10-11月",
          "desc": "要件定義\n設計"
        },
        {
          "title": "12月",
          "desc": "実装残り\nテスト"
        },
        {
          "title": "1月",
          "desc": "受入テスト\n納品"
        },
        {
          "title": "2月",
          "desc": "運用開始\n（予定）"
        }
      ],
      "speakerNotes": "12月で作りきって、1月が受け入れテスト＋納品期間。1月ではあまりタスク残さない想定。フェーズ1でベータ版が使える状態の品質を目指す。"
    },
    {
      "type": "icon-cards",
      "title": "AI側の4つの対応タスク",
      "subhead": "11月26日時点の状況",
      "columns": 4,
      "items": [
        {
          "icon": "📋",
          "title": "図面リスト抽出",
          "desc": "目次ページから図面一覧を構造化"
        },
        {
          "icon": "🔗",
          "title": "表との紐付け",
          "desc": "設備と表の関係を取得"
        },
        {
          "icon": "📊",
          "title": "評価データ作成",
          "desc": "性能改善用のデータ準備"
        },
        {
          "icon": "🏠",
          "title": "部屋検出改善",
          "desc": "四角→ポリゴン変換"
        }
      ],
      "speakerNotes": "1と2は先週時点で終了。3は進行中。4も完了しているが品質面で課題あり。"
    },
    {
      "type": "content",
      "title": "タスク4：部屋検出（ポリゴン化）",
      "subhead": "順調だが品質に課題あり",
      "items": [
        "四角形からポリゴン表現に変更完了",
        "斜めの部屋や複雑な形状も囲めるように",
        "編集可能にするためにピクセル→ポリゴン変換",
        "膨張処理で壁との隙間を埋める対応済み",
        "ただしピクセル時代より見栄えが悪くなっている"
      ],
      "speakerNotes": "CV2のApproxPolyDPを使用。エプシロン値で近似精度を調整可能。下げるほど元のピクセルに近いポリゴンが出る。"
    },
    {
      "type": "compare",
      "title": "ピクセル vs ポリゴン",
      "subhead": "トレードオフの整理",
      "leftTitle": "ピクセル単位",
      "leftItems": [
        "見栄えが綺麗",
        "精度が高い",
        "編集が困難",
        "頂点をいじれない"
      ],
      "rightTitle": "ポリゴン変換後",
      "rightItems": [
        "ギザギザになる",
        "近似で情報削ぎ落とし",
        "頂点編集が可能",
        "Human in the loopが可能"
      ],
      "speakerNotes": "ポリゴンにする意図は編集可能にするため。AIの出力が間違っていたら修正したい。目的は正確な面積算出。"
    },
    {
      "type": "content",
      "title": "ポリゴン品質改善の方針",
      "subhead": "12月4日以降の対応",
      "items": [
        "エプシロンパラメータを調整して最適値を探す",
        "面積あたりの頂点数と元ピクセルとのIOUの両方をメトリクスに",
        "コスト関数を作ってトレードオフの最適点を探す",
        "フロント側でパラメータ調整できるようにする案も",
        "壁を引いて吸い付かせる編集方法のアイデア"
      ],
      "speakerNotes": "岡本アイデア：壁を引いたら一定ピクセル範囲内が吸い付く。平山さんアイデアでもあった。FE側で実装可能かも。"
    },
    {
      "type": "content",
      "title": "壁を引いて吸い付かせるUI案",
      "subhead": "編集しやすさの改善",
      "items": [
        "線を引いたらその幅の3ピクセルずつに収まっているところを1ピクセルに慣らす",
        "ポリゴンが複雑すぎても壁に合わせて吸い付く",
        "人間が編集しやすい形になる",
        "FE側で実装する想定",
        "あと半年早く考えたかった（岡本談）"
      ],
      "speakerNotes": "これができれば見栄えの問題も解決できる可能性あり。"
    },
    {
      "type": "content",
      "title": "12月4日の説明方針",
      "subhead": "先方への伝え方",
      "items": [
        "綺麗目のサンプルを先に見せる",
        "うまくいっている例とうまくいっていない例を両方説明",
        "なぜポリゴンにしたかの意図を説明",
        "編集方法として壁を引く機能を試すと伝える",
        "微調整は12月半ばまでに対応"
      ],
      "speakerNotes": "いきなり悪い例を見せるのはNG。現状で見せる→なぜかを説明→改善方針を伝える流れ。"
    },
    {
      "type": "content",
      "title": "タスク2：表との紐付け",
      "subhead": "ページ間をまたいだ関係取得",
      "items": [
        "設備が書かれている図面と表の関係をJSON格納済み",
        "WebUI上で関係が見れる状態（V3以降）",
        "設備をクリックすると図面と表の両方が紐付く",
        "以前は表の中に設備が書かれている図面がなかった",
        "POCデータを引っ張り出して対応"
      ],
      "speakerNotes": "渡邊さんが気づいたポイント：ページ間またいでも別に関係ないということ。1アカウントで複数ジョブ作成可能。"
    },
    {
      "type": "content",
      "title": "設備の紐付け構造",
      "subhead": "インスタンスとエンティティの関係",
      "items": [
        "設備一覧は符号でユニーク",
        "どこに出現したかの情報を持つ",
        "1個1個はインスタンスとして別ID",
        "紐付け機能でリレーションを表現",
        "12月4日段階では動作デモは見せられない可能性"
      ],
      "speakerNotes": "違うページにあるインスタンスとして別IDを振るのはまっとう。そこで結びつける機能がアップデートされた。"
    },
    {
      "type": "content",
      "title": "タスク1：図面リスト抽出",
      "subhead": "目次ページからの構造化",
      "items": [
        "PDFの先頭にある図面リストを明示的に読み取り",
        "diagram_index.jsonとして新規JSON出力",
        "図面番号と図面名称が基本項目",
        "縮尺・投資番号はあったりなかったり",
        "図面抽出時にこのJSONを参照して選択させる"
      ],
      "speakerNotes": "物理的な図面一覧（PDF1枚1枚読んだ結果）と論理的な図面一覧（目次から作成）がある。"
    },
    {
      "type": "compare",
      "title": "物理的 vs 論理的 図面一覧",
      "subhead": "図面リストの2つの概念",
      "leftTitle": "物理的図面一覧",
      "leftItems": [
        "PDF1枚1枚読んだ結果",
        "今までの方式",
        "目次がなくても作れる",
        "情報が限定的"
      ],
      "rightTitle": "論理的図面一覧",
      "rightItems": [
        "目次ページから作成",
        "骨格として先に定義",
        "詳細は各ページから補完",
        "図面番号・名称が必須"
      ],
      "speakerNotes": "目次がなかった場合は物理的＝論理的になる。目次があれば論理的図面一覧を作り、各ページから肉付け。"
    },
    {
      "type": "content",
      "title": "図面一覧の出力フォーマット",
      "subhead": "必須項目と任意項目",
      "items": [
        "図面番号と図面名称は必須（取れなければエラー）",
        "縮尺・投資番号は任意（あれば埋める）",
        "カラム名がバラバラ問題（図面番号 vs 投資番号）",
        "各図面詳細から情報を補完していく",
        "entity-diagram-uuid.jsonに格納"
      ],
      "speakerNotes": "フォーマットはいろいろあるが基本的に図面名称は書いてある。骨に肉付けしていく作業が必要。"
    },
    {
      "type": "content",
      "title": "タスク3：評価データ作成・性能改善",
      "subhead": "12月後半のタスク",
      "items": [
        "正解データに対して定量的に性能を測定したい",
        "施策を行ったときに改善されたかどうかを知りたい",
        "AIの出力と組み上げたデータ構造の正確性を評価",
        "アノテーションが必要",
        "OCR性能か組み立て問題かの切り分け"
      ],
      "speakerNotes": "名称抜き出しなら文字一致で評価。紐付け性能は何個中何個正解か。外れた理由の分析も必要。"
    },
    {
      "type": "content",
      "title": "性能評価に必要なもの",
      "subhead": "整理が必要な項目",
      "items": [
        "どういう図面でどういう正解データが必要か",
        "エクセル形式で作成するか",
        "12月後半（再来週以降）の土日タスク",
        "具体的なタスク化はまだされていない",
        "先方と連携して進める必要あり"
      ],
      "speakerNotes": "ログ取得→特定場所の個別リラン対応が必要になる可能性。"
    },
    {
      "type": "process",
      "title": "12月の開発フロー",
      "subhead": "週次サイクル",
      "steps": [
        {
          "title": "土日",
          "desc": "渡邊さん\n開発作業"
        },
        {
          "title": "週明け",
          "desc": "岡本さんへ\nKT"
        },
        {
          "title": "定例",
          "desc": "先方へ\n成果報告"
        },
        {
          "title": "次週まで",
          "desc": "フィードバック\n反映"
        }
      ],
      "speakerNotes": "渡邊さん土日対応→岡本さんにKT→先方定例で成果報告→フィードバック受けて次の土日へ。"
    },
    {
      "type": "table",
      "title": "12月の定例スケジュール",
      "subhead": "先方ミーティング予定",
      "headers": ["日付", "内容", "担当"],
      "rows": [
        ["12/4", "タスク1-4の進捗報告・ポリゴン説明", "若林・渡邊"],
        ["12/6-7", "タスク4と1の続き開発", "渡邊"],
        ["12月中旬", "タスク3・先方フィードバック対応", "渡邊・岡本"],
        ["12月後半", "評価データ作成・性能改善", "渡邊"]
      ],
      "speakerNotes": "12月4日に何を説明するかと残りタスクの進め方を整理。年末まであと3週分の稼働。"
    },
    {
      "type": "content",
      "title": "インフラ側の対応",
      "subhead": "運用設計関連（T.yoshidaさん担当）",
      "items": [
        "Slackで別途投げている件を落とし込む",
        "運用設計に関する部分を整理",
        "今週中にすり合わせ予定だったが忙しいため来週月曜に",
        "Slackでこちらの動きは伝えておく",
        "手を動かせる部分があれば今週対応"
      ],
      "speakerNotes": "T.yoshidaさん：今週結構忙しいので月曜にまた。それまでSlackでメッセージ連携。"
    },
    {
      "type": "content",
      "title": "エラーハンドリングについて",
      "subhead": "渡邊さんからの質問",
      "items": [
        "APIエラーが出た場合の対処方法は？",
        "再送処理はしているがそれでもダメな場合は？",
        "プログラムか人がリラン必要なのか",
        "前提がダメでユーザーにやり直してもらうのか",
        "エラーの種類によって対処を決める"
      ],
      "speakerNotes": "大抵はクォータ違反、クォータ不足、アカウント問題が大半。"
    },
    {
      "type": "content",
      "title": "エラーハンドリング方針",
      "subhead": "若林さんからの回答",
      "items": [
        "まずログを取ることが必要",
        "特定場所だけ後から個別リランできるように",
        "APIのエラーコードを定義しておく",
        "インターフェースに失敗時のやり取りも定義",
        "ユーザー目線では成功/失敗がわかる状態に"
      ],
      "speakerNotes": "何もなくスンってなって何が起きてるかわからないのを防ぐ。ライブラリ単位で例外を投げるようにして一覧を共有。"
    },
    {
      "type": "table",
      "title": "Next Action",
      "subhead": "タスク一覧",
      "headers": ["タスク", "担当", "期限"],
      "rows": [
        ["ポリゴンパラメータ調整・綺麗なサンプル作成", "渡邊", "本日中"],
        ["12月4日向け説明資料準備", "若林", "12/4まで"],
        ["図面リスト抽出のフォーマット整理", "渡邊", "12月中旬"],
        ["評価データ作成タスク化", "若林・渡邊", "12月後半"],
        ["インフラ運用設計すり合わせ", "T.yoshida", "来週月曜"],
        ["岡本さんへのKT", "若林", "定例後随時"]
      ],
      "speakerNotes": "渡邊さん：今日中にパラメータいろいろいじって、もうちょい綺麗なやつ出せないか試してみる。"
    },
    {
      "type": "content",
      "title": "キーポイント",
      "subhead": "本MTGの重要事項",
      "items": [
        "ポリゴン変換は編集可能にするためのトレードオフ",
        "見栄えと精度のバランスはエプシロン調整で探る",
        "壁を引いて吸い付かせるUIで編集しやすく",
        "12月4日は綺麗目のサンプルから見せる",
        "品質と性能の定量評価は12月後半のタスク"
      ],
      "speakerNotes": "Human in the loopのためにポリゴン化。面積算出が目的なので正確性が重要。"
    },
    {
      "type": "title",
      "title": "以上",
      "subtitle": "株式会社パンハウス",
      "speakerNotes": ""
    }
  ]
}
